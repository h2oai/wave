(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{152:function(e,s,n){"use strict";n.r(s),n.d(s,"frontMatter",(function(){return u})),n.d(s,"metadata",(function(){return o})),n.d(s,"rightToc",(function(){return l})),n.d(s,"default",(function(){return p}));var t=n(2),i=n(6),r=(n(0),n(311)),a=n(313),u={title:"Issue Tracker",keywords:["table"]},o={unversionedId:"examples/issue-tracker",id:"examples/issue-tracker",isDocsHomePage:!1,title:"Issue Tracker",description:"Implement a simple issue tracker using a table to create master-detail views.",source:"@site/docs/examples/issue-tracker.md",slug:"/examples/issue-tracker",permalink:"/wave/docs/examples/issue-tracker",editUrl:"https://github.com/h2oai/wave/edit/master/website/docs/examples/issue-tracker.md",version:"current",sidebar:"someSidebar",previous:{title:"Wizard",permalink:"/wave/docs/examples/wizard"},next:{title:"Dashboard",permalink:"/wave/docs/examples/dashboard"}},l=[],c={rightToc:l};function p(e){var s=e.components,u=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(t.a)({},c,u,{components:s,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Implement a simple issue tracker using a table to create master-detail views."),Object(r.b)("div",{className:"cover",style:{backgroundImage:"url("+n(393).default+")"}}),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"from h2o_wave import main, app, Q, ui\nfrom faker import Faker\n\nfake = Faker()\n\n_id = 0\n\n\nclass Issue:\n    def __init__(self, text: str, status: str):\n        global _id\n        _id += 1\n        self.id = f'I{_id}'\n        self.text = text\n        self.status = status\n        self.views = 0\n\n\n# Create some issues\nissues = [Issue(text=fake.sentence(), status='Open') for i in range(12)]\n\n# Build a lookup of issues for convenience\nissue_lookup = {issue.id: issue for issue in issues}\n\n# Create columns for our issue table.\ncolumns = [\n    ui.table_column(name='text', label='Issue'),\n    ui.table_column(name='status', label='Status'),\n    ui.table_column(name='views', label='Views'),\n]\n\n\ndef make_issue_table(allow_multiple_selection=False):\n    return ui.table(\n        name='issues',\n        columns=columns,\n        rows=[ui.table_row(name=issue.id, cells=[issue.text, issue.status, str(issue.views)]) for issue in issues],\n        multiple=allow_multiple_selection\n    )\n\n\nasync def edit_multiple(q: Q):\n    q.page['form'] = ui.form_card(\n        box='1 1 4 10',\n        items=[\n            make_issue_table(allow_multiple_selection=True),  # This time, allow multiple selections\n            ui.buttons([\n                ui.button(name='reopen_issues', label='Reopen Selected', primary=True),\n                ui.button(name='close_issues', label='Close Selected', primary=True),\n                ui.button(name='back', label='Back to safety')\n            ]),\n        ]\n    )\n    await q.page.save()\n\n\nasync def show_issues(q: Q):\n    q.page['form'] = ui.form_card(\n        box='1 1 4 10',\n        items=[\n            make_issue_table(),\n            ui.buttons([ui.button(name='edit_multiple', label='Edit Multiple...', primary=True)]),\n        ]\n    )\n    await q.page.save()\n\n\nasync def show_issue(q: Q, issue_id: str):\n    issue = issue_lookup[issue_id]\n    issue.views += 1\n\n    q.client.active_issue_id = issue_id\n\n    q.page['form'] = ui.form_card(\n        box='1 1 4 10',\n        items=[\n            ui.text_xl(f'Issue {issue.id}'),\n            ui.text(issue.text),\n            ui.text_xs(f'({issue.views} views)'),\n            ui.buttons([\n                ui.button(\n                    name='close_issue' if issue.status == 'Open' else 'reopen_issue',\n                    label=\"Close Issue\" if issue.status == 'Open' else \"Reopen Issue\",\n                    primary=True,\n                ),\n                ui.button(name='back', label='Back'),\n            ]),\n        ]\n    )\n\n    await q.page.save()\n\n\nasync def close_issue(q: Q):\n    issue = issue_lookup[q.client.active_issue_id]\n    issue.status = 'Closed'\n    await show_issues(q)\n\n\nasync def close_issues(q: Q):\n    for issue_id in q.args.issues:\n        issue = issue_lookup[issue_id]\n        issue.status = 'Closed'\n    await show_issues(q)\n\n\nasync def reopen_issue(q: Q):\n    issue = issue_lookup[q.client.active_issue_id]\n    issue.status = 'Open'\n    await show_issues(q)\n\n\nasync def reopen_issues(q: Q):\n    for issue_id in q.args.issues:\n        issue = issue_lookup[issue_id]\n        issue.status = 'Open'\n    await show_issues(q)\n\n\n@app('/demo')\nasync def serve(q: Q):\n    if q.args.edit_multiple:\n        await edit_multiple(q)\n    elif q.args.reopen_issues:\n        await reopen_issues(q)\n    elif q.args.close_issues:\n        await close_issues(q)\n    elif q.args.reopen_issue:\n        await reopen_issue(q)\n    elif q.args.close_issue:\n        await close_issue(q)\n    elif q.args.issues:  # An issue was clicked on\n        await show_issue(q, q.args.issues[0])\n    else:\n        await show_issues(q)\n")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Tags"),": \u2002",Object(r.b)("a",{href:Object(a.a)("docs/examples/tags#table")},"table")))}p.isMDXComponent=!0},311:function(e,s,n){"use strict";n.d(s,"a",(function(){return p})),n.d(s,"b",(function(){return d}));var t=n(0),i=n.n(t);function r(e,s,n){return s in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}function a(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);s&&(t=t.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),n.push.apply(n,t)}return n}function u(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?a(Object(n),!0).forEach((function(s){r(e,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))}))}return e}function o(e,s){if(null==e)return{};var n,t,i=function(e,s){if(null==e)return{};var n,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],s.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],s.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=i.a.createContext({}),c=function(e){var s=i.a.useContext(l),n=s;return e&&(n="function"==typeof e?e(s):u(u({},s),e)),n},p=function(e){var s=c(e.components);return i.a.createElement(l.Provider,{value:s},e.children)},f={inlineCode:"code",wrapper:function(e){var s=e.children;return i.a.createElement(i.a.Fragment,{},s)}},m=i.a.forwardRef((function(e,s){var n=e.components,t=e.mdxType,r=e.originalType,a=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),p=c(n),m=t,d=p["".concat(a,".").concat(m)]||p[m]||f[m]||r;return n?i.a.createElement(d,u(u({ref:s},l),{},{components:n})):i.a.createElement(d,u({ref:s},l))}));function d(e,s){var n=arguments,t=s&&s.mdxType;if("string"==typeof e||t){var r=n.length,a=new Array(r);a[0]=m;var u={};for(var o in s)hasOwnProperty.call(s,o)&&(u[o]=s[o]);u.originalType=e,u.mdxType="string"==typeof e?e:t,a[1]=u;for(var l=2;l<r;l++)a[l]=n[l];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},312:function(e,s,n){"use strict";var t=n(0),i=n(19);s.a=function(){var e=Object(t.useContext)(i.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},313:function(e,s,n){"use strict";n.d(s,"b",(function(){return r})),n.d(s,"a",(function(){return a}));var t=n(312),i=n(314);function r(){var e=Object(t.a)().siteConfig,s=(e=void 0===e?{}:e).baseUrl,n=void 0===s?"/":s,r=e.url;return{withBaseUrl:function(e,s){return function(e,s,n,t){var r=void 0===t?{}:t,a=r.forcePrependBaseUrl,u=void 0!==a&&a,o=r.absolute,l=void 0!==o&&o;if(!n)return n;if(n.startsWith("#"))return n;if(Object(i.b)(n))return n;if(u)return s+n;var c=n.startsWith(s)?n:s+n.replace(/^\//,"");return l?e+c:c}(r,n,e,s)}}}function a(e,s){return void 0===s&&(s={}),(0,r().withBaseUrl)(e,s)}},314:function(e,s,n){"use strict";function t(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!t(e)}n.d(s,"b",(function(){return t})),n.d(s,"a",(function(){return i}))},393:function(e,s,n){"use strict";n.r(s),s.default=n.p+"assets/images/issue-tracker-f8f5460fa5058fa880076f1b4d032c9f.png"}}]);