(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{313:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),p=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=p(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,m=u["".concat(i,".").concat(d)]||u[d]||b[d]||o;return n?r.a.createElement(m,s(s({ref:t},l),{},{components:n})):r.a.createElement(m,s({ref:t},l))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},553:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/toggle-theme-e3d2c18618cb44b25db89b8c9821bbfd.gif"},94:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return p}));var a=n(2),r=n(6),o=(n(0),n(313)),i={slug:"release-0.12.1",title:"Routing, Themes and Analytics",author:"Prithvi Prabhu",author_title:"Chief of Technology @ H2O.ai",author_url:"https://github.com/lo5",author_image_url:"https://avatars3.githubusercontent.com/u/6334572",tags:["release"]},s={permalink:"/wave/blog/release-0.12.1",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/blog/blog/2021-02-12-release.md",source:"@site/blog/2021-02-12-release.md",description:"Wave v0.12 shipped last week, with support for handling queries and routes using decorators and experimental support for switching themes. Here's a rundown of the major features.",date:"2021-02-12T00:00:00.000Z",tags:[{label:"release",permalink:"/wave/blog/tags/release"}],title:"Routing, Themes and Analytics",readingTime:2.14,truncated:!0,nextItem:{title:"Responsive Layouts and Inline Components",permalink:"/wave/blog/release-0.11.0"}},c=[{value:"Routing",id:"routing",children:[]},{value:"Themes",id:"themes",children:[]},{value:"Web Analytics",id:"web-analytics",children:[]},{value:"Download",id:"download",children:[]}],l={rightToc:c};function p(e){var t=e.components,i=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},l,i,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Wave v0.12 shipped last week, with support for handling queries and routes using decorators and experimental support for switching themes. Here's a rundown of the major features. "),Object(o.b)("h2",{id:"routing"},"Routing"),Object(o.b)("p",null,"In most Wave applications, queries are typically handled using ",Object(o.b)("inlineCode",{parentName:"p"},"if/elif/else")," conditionals that in turn call other functions:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py",metastring:"{23,25,27}","{23,25,27}":!0}),"from h2o_wave import Q, main, app, ui\n\nasync def on_heads(q: Q):\n    q.page['sides'].items = [ui.message_bar(text='Heads!')]\n\nasync def on_heads(q: Q):\n    q.page['sides'].items = [ui.message_bar(text='Tails!')]\n\nasync def setup_page(q: Q):\n    q.page['sides'] = ui.form_card(\n        box='1 1 4 4',\n        items=[\n            ui.button(name='#heads', label='Heads'),\n            ui.button(name='#tails', label='Tails'),\n        ],\n    )\n\n@app('/toss')\nasync def serve(q: Q):\n    hash = q.args['#']\n\n    if hash == 'heads':\n        await on_heads(q)\n    elif hash == 'tails':\n        await on_tails(q)\n    else:\n        await setup_page(q)\n\n    await q.page.save()\n")),Object(o.b)("p",null,"As your application gets larger, using ",Object(o.b)("inlineCode",{parentName:"p"},"if/elif/else")," for routing can seem tedious or repetitive. Starting with Wave 0.12, you can use the new ",Object(o.b)("inlineCode",{parentName:"p"},"@on()")," and ",Object(o.b)("inlineCode",{parentName:"p"},"handle_on()")," functions to reduce boilerplate:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py",metastring:"{3,7,22}","{3,7,22}":!0}),"from h2o_wave import Q, main, app, ui, on, handle_on\n\n@on('#heads')\nasync def on_heads(q: Q):\n    q.page['sides'].items = [ui.message_bar(text='Heads!')]\n\n@on('#tails')\nasync def on_heads(q: Q):\n    q.page['sides'].items = [ui.message_bar(text='Tails!')]\n\nasync def setup_page(q: Q):\n    q.page['sides'] = ui.form_card(\n        box='1 1 4 4',\n        items=[\n            ui.button(name='#heads', label='Heads'),\n            ui.button(name='#tails', label='Tails'),\n        ],\n    )\n\n@app('/toss')\nasync def serve(q: Q):\n    if not await handle_on(q):\n        await setup_page(q)\n\n    await q.page.save()\n")),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"handle_on()")," function analyzes the incoming query and calls the matching ",Object(o.b)("inlineCode",{parentName:"p"},"@on()")," function. There's also support for specifying patterns (",Object(o.b)("inlineCode",{parentName:"p"},"@on('#menu/donuts/{donut_name}')"),") and matching query arguments (",Object(o.b)("inlineCode",{parentName:"p"},"@on('buy_donut')"),")."),Object(o.b)("p",null,"Using ",Object(o.b)("inlineCode",{parentName:"p"},"@on()")," and ",Object(o.b)("inlineCode",{parentName:"p"},"handle_on()")," functions are entirely optional."),Object(o.b)("p",null,"Learn how to use routes in the guide: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"../docs/routing"}),"Routing")," and ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"../docs/arguments"}),"Query Arguments"),"."),Object(o.b)("p",null,"See example: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"../docs/examples/routing"}),"Routing")),Object(o.b)("h2",{id:"themes"},"Themes"),Object(o.b)("p",null,"Wave v0.12 also ships with experimental support for switching themes, and includes a new ",Object(o.b)("inlineCode",{parentName:"p"},"neon")," dark theme. To switch your app's theme, simply set the ",Object(o.b)("inlineCode",{parentName:"p"},"theme")," attribute of your app's ",Object(o.b)("inlineCode",{parentName:"p"},"meta_card"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py",metastring:"{3}","{3}":!0}),"q.page['meta'] = ui.meta_card(\n  ..., \n  theme='neon', \n  ...,\n)\n")),Object(o.b)("p",null,Object(o.b)("img",{alt:"theme",src:n(553).default})),Object(o.b)("p",null,"See example: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"../docs/examples/meta-theme"}),"Theme")),Object(o.b)("h2",{id:"web-analytics"},"Web Analytics"),Object(o.b)("p",null,"You can now configure your app to send basic usage information to Google Analytics. You can use this feature to measure analyze how users are interacting with various parts of your app."),Object(o.b)("p",null,"To enable usage tracking, use the new ",Object(o.b)("inlineCode",{parentName:"p"},"ui.tracker()")," API to set the ",Object(o.b)("inlineCode",{parentName:"p"},"tracker")," attribute of your app's ",Object(o.b)("inlineCode",{parentName:"p"},"meta_card"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py",metastring:"{2}","{2}":!0}),"q.page['meta'] = ui.meta_card(\n  ..., \n  tracker=ui.tracker(type=ui.TrackerType.GA, id='G-XXXXXXXXXX'),\n  ...,\n)\n")),Object(o.b)("p",null,"Read more about configuring analytics: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"../docs/configuration#web-analytics"}),"Configuration")),Object(o.b)("p",null,"See example: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"../docs/examples/meta-tracking"}),"Tracking")),Object(o.b)("h2",{id:"download"},"Download"),Object(o.b)("p",null,"Get the release ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/h2oai/wave/releases/latest"}),"here"),". Check out the release notes for more details."),Object(o.b)("p",null,"We look forward to continuing our collaboration with the community and hearing your feedback as we further improve and expand the H2O Wave platform."),Object(o.b)("p",null,"We\u2019d like to thank the entire Wave team and the community for all of the contributions to this work!"))}p.isMDXComponent=!0}}]);