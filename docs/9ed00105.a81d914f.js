(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{206:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return l}));var r=n(2),a=n(6),i=(n(0),n(302)),o={title:"Configuration"},c={unversionedId:"configuration",id:"configuration",isDocsHomePage:!1,title:"Configuration",description:"Configuring the server",source:"@site/docs/configuration.md",slug:"/configuration",permalink:"/wave/docs/configuration",editUrl:"https://github.com/h2oai/wave/edit/master/website/docs/configuration.md",version:"current",sidebar:"someSidebar",previous:{title:"Browser Testing",permalink:"/wave/docs/browser-testing"},next:{title:"Deployment",permalink:"/wave/docs/deployment"}},s=[{value:"Configuring the server",id:"configuring-the-server",children:[{value:"Command line options",id:"command-line-options",children:[]}]},{value:"Configuring your app",id:"configuring-your-app",children:[{value:"H2O_WAVE_APP_ADDRESS",id:"h2o_wave_app_address",children:[]},{value:"H2O_WAVE_ADDRESS",id:"h2o_wave_address",children:[]},{value:"H2O_WAVE_ACCESS_KEY_ID",id:"h2o_wave_access_key_id",children:[]},{value:"H2O_WAVE_ACCESS_KEY_SECRET",id:"h2o_wave_access_key_secret",children:[]},{value:"H2O_WAVE_INTERNAL_ADDRESS",id:"h2o_wave_internal_address",children:[]},{value:"H2O_WAVE_EXTERNAL_ADDRESS",id:"h2o_wave_external_address",children:[]}]}],p={rightToc:s};function l(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"configuring-the-server"},"Configuring the server"),Object(i.b)("h3",{id:"command-line-options"},"Command line options"),Object(i.b)("p",null,"Execute ",Object(i.b)("inlineCode",{parentName:"p"},"waved -help")," to see all available command line options:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),'$ ./waved -help\nUsage of ./waved:\n  -access-key-id string\n        default access key ID (default "access_key_id")\n  -access-key-secret string\n        default access key secret (default "access_key_secret")\n  -compact string\n        compact AOF log\n  -data-dir string\n        directory to store site data (default "./data")\n  -debug\n        enable debug mode (profiling, inspection, etc.)\n  -init string\n        initialize site content from AOF log\n  -listen string\n        listen on this address (default ":10101")\n  -oidc-client-id string\n        OIDC client ID\n  -oidc-client-secret string\n        OIDC client secret\n  -oidc-end-session-url string\n        OIDC end session URL\n  -oidc-provider-url string\n        OIDC provider URL\n  -oidc-redirect-url string\n        OIDC redirect URL\n  -tls-cert-file string\n        path to certificate file (TLS only)\n  -tls-key-file string\n        path to private key file (TLS only)\n  -version\n        print version and exit\n  -web-dir string\n        directory to serve web assets from (default "./www")\n')),Object(i.b)("h2",{id:"configuring-your-app"},"Configuring your app"),Object(i.b)("p",null,"Your Wave application is an ASGI server. When you run your app during development, the app server runs at ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"http://127.0.0.1:8000/"}),"http://127.0.0.1:8000/")," by default (localhost, port 8000), and assumes that your Wave server is running at ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"http://127.0.0.1:10101/"}),"http://127.0.0.1:10101/")," (localhost, port 10101). The ",Object(i.b)("inlineCode",{parentName:"p"},"wave run")," command automatically picks another available port if ",Object(i.b)("inlineCode",{parentName:"p"},"8000")," is not available. "),Object(i.b)("p",null,"The Wave server and apps communicate with each other using RPC over persistent HTTP connections."),Object(i.b)("p",null,"For production deployments, you'll want to configure which port your app listens to, how it can access the Wave server, and how the Wave server can access your app."),Object(i.b)("p",null,"You can use the following environment variables to configure your app's server's behavior:"),Object(i.b)("h3",{id:"h2o_wave_app_address"},"H2O_WAVE_APP_ADDRESS"),Object(i.b)("p",null,"The public host/port of the app server. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"http://127.0.0.1:8000"),". Set this variable if you are running your Wave server and your app on different machines or containers."),Object(i.b)("h3",{id:"h2o_wave_address"},"H2O_WAVE_ADDRESS"),Object(i.b)("p",null,"The public host/port of the Wave server. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"http://127.0.0.1:10101"),". Set this variable if you are running the Wave server on a remote machine or container."),Object(i.b)("h3",{id:"h2o_wave_access_key_id"},"H2O_WAVE_ACCESS_KEY_ID"),Object(i.b)("p",null,"The API access key ID to use for communicating with the Wave server."),Object(i.b)("h3",{id:"h2o_wave_access_key_secret"},"H2O_WAVE_ACCESS_KEY_SECRET"),Object(i.b)("p",null,"The API access key secret to use for communicating with the Wave server."),Object(i.b)("h3",{id:"h2o_wave_internal_address"},"H2O_WAVE_INTERNAL_ADDRESS"),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"Deprecated")),Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"This environment variable will be removed in v1.0."))),Object(i.b)("p",null,"The local host/port on which the app server should listen. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"http://127.0.0.1:8000"),". For example, if you want your app to listen on a specific port, execute your app as follows (replace ",Object(i.b)("inlineCode",{parentName:"p"},"66666")," with a port number of your choice):"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),"$ H2O_WAVE_INTERNAL_ADDRESS=ws://127.0.0.1:66666 ./venv/bin/python my_app.py\n")),Object(i.b)("h3",{id:"h2o_wave_external_address"},"H2O_WAVE_EXTERNAL_ADDRESS"),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"Deprecated")),Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Specify ",Object(i.b)("inlineCode",{parentName:"p"},"H2O_WAVE_APP_ADDRESS")," instead."))),Object(i.b)("p",null,"The public host/port of the app server. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"http://127.0.0.1:8000"),". Set this variable if you are running your Wave server and your app on different machines or containers."))}l.isMDXComponent=!0},302:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=a.a.createContext({}),l=function(e){var t=a.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},d=function(e){var t=l(e.components);return a.a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(n),b=r,v=d["".concat(o,".").concat(b)]||d[b]||u[b]||i;return n?a.a.createElement(v,c(c({ref:t},p),{},{components:n})):a.a.createElement(v,c({ref:t},p))}));function v(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var p=2;p<i;p++)o[p]=n[p];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);