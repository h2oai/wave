(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{106:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return i})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return b}));var o=t(2),r=t(6),a=(t(0),t(313)),c={title:"Module h2o_wave.routing"},i={unversionedId:"api/routing",id:"api/routing",isDocsHomePage:!1,title:"Module h2o_wave.routing",description:"Functions",source:"@site/docs/api/routing.md",slug:"/api/routing",permalink:"/wave/docs/api/routing",editUrl:"https://github.com/h2oai/wave/edit/master/website/docs/api/routing.md",version:"current"},l=[{value:"Functions",id:"functions",children:[{value:'handle_on <a name="h2o_wave.routing.handle_on"/>',id:"handle_on",children:[]},{value:'on <a name="h2o_wave.routing.on"/>',id:"on",children:[]}]}],u={rightToc:l};function b(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},u,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"functions"},"Functions"),Object(a.b)("div",{className:"api"},Object(a.b)("h3",{id:"handle_on"},"handle_on ",Object(a.b)("a",{name:"h2o_wave.routing.handle_on"})),Object(a.b)("div",{className:"api__body"},Object(a.b)("div",{className:"api__signature"},"async def ",Object(a.b)("span",{class:"ident"},"handle_on"),"(q:\xa0",Object(a.b)("a",{title:"h2o_wave.server.Query",href:"server#h2o_wave.server.Query"},"Query"),") \u2011>\xa0bool"),Object(a.b)("div",{className:"api__description"},Object(a.b)("p",null,"Handle the query using a query handler (a function annotated with ",Object(a.b)("code",null,"@on()"),")."),Object(a.b)("h5",{id:"args"},"Args"),Object(a.b)("dl",null,Object(a.b)("dt",null,Object(a.b)("code",null,"q")),Object(a.b)("dd",null,"The query context.")),Object(a.b)("h5",{id:"returns"},"Returns"),Object(a.b)("p",null,"True if a matching query handler was found and invoked, else False.")))),Object(a.b)("div",{className:"api"},Object(a.b)("h3",{id:"on"},"on ",Object(a.b)("a",{name:"h2o_wave.routing.on"})),Object(a.b)("div",{className:"api__body"},Object(a.b)("div",{className:"api__signature"},"def ",Object(a.b)("span",{class:"ident"},"on"),"(arg:\xa0str\xa0=\xa0None)"),Object(a.b)("div",{className:"api__description"},Object(a.b)("p",null,"Indicate that a function is a query handler that should be invoked when ",Object(a.b)("code",null,"q.args")," contains an argument that matches a specific name or pattern."),Object(a.b)("p",null,"Examples: A function annotated with ",Object(a.b)("code",null,"@on('foo')")," is invoked whenever ",Object(a.b)("code",null,"q.args['foo']")," is found. A function annotated with ",Object(a.b)("code",null,"@on('#foo')")," is invoked whenever ",Object(a.b)("code",null,"q.args['#']")," equals 'foo'. A function annotated with ",Object(a.b)("code",null,"@on('#foo/bar')")," is invoked whenever ",Object(a.b)("code",null,"q.args['#']")," equals 'foo/bar'. A function annotated with ",Object(a.b)("code",null,"@on('#foo/&lcub;fruit&rcub;')")," is invoked whenever ",Object(a.b)("code",null,"q.args['#']")," matches 'foo/apple', 'foo/orange', etc. The parameter 'fruit' is passed to the function (in this case, 'apple', 'orange', etc.)"),Object(a.b)("p",null,"Parameters in patterns (indicated within curly braces) can be converted to ",Object(a.b)("code",null,"str"),", ",Object(a.b)("code",null,"int"),", ",Object(a.b)("code",null,"float")," or ",Object(a.b)("code",null,"uuid.UUID")," instances by suffixing the parameters with ",Object(a.b)("code",null,"str"),", ",Object(a.b)("code",null,"int"),", ",Object(a.b)("code",null,"float")," or ",Object(a.b)("code",null,"uuid"),", respectively."),Object(a.b)("p",null,"Examples: - ",Object(a.b)("code",null,"user_id:int"),": ",Object(a.b)("code",null,"user_id")," is converted to an integer. - ",Object(a.b)("code",null,"amount:float"),": ",Object(a.b)("code",null,"amount")," is converted to a float. - ",Object(a.b)("code",null,"id:uuid"),": ",Object(a.b)("code",null,"id")," is converted to a ",Object(a.b)("code",null,"uuid.UUID"),"."),Object(a.b)("h5",{id:"args"},"Args"),Object(a.b)("dl",null,Object(a.b)("dt",null,Object(a.b)("code",null,"arg")),Object(a.b)("dd",null,"The name of the ",Object(a.b)("code",null,"q.arg")," argument (in case of plain arguments) or a pattern (in case of hash arguments, or ",Object(a.b)("code",null,"q.args['#']"),"). If not provided, the ",Object(a.b)("code",null,"q.arg")," argument is assumed to be the same as the name of the function."))))))}b.isMDXComponent=!0},313:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return O}));var o=t(0),r=t.n(o);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=r.a.createContext({}),b=function(e){var n=r.a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=b(e.components);return r.a.createElement(u.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},p=r.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=b(t),p=o,O=d["".concat(c,".").concat(p)]||d[p]||s[p]||a;return t?r.a.createElement(O,i(i({ref:n},u),{},{components:t})):r.a.createElement(O,i({ref:n},u))}));function O(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,c=new Array(a);c[0]=p;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var u=2;u<a;u++)c[u]=t[u];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);